var _gre=_gre||[],recommendationEngine=recommendationEngine||{};
recommendationEngine.collect=function(b,e,d,r,t){function l(m){return"string"==typeof m&&0<m.length}function n(m,u,v){"undefined"!=typeof u&&v.push(m+" defined multiple times")}if(Array.isArray(b)){for(var g,h,k,q,f=[],a=0;a<b.length;++a)if(Array.isArray(b[a])&&2==b[a].length){var c=b[a][0],p=b[a][1];"apiKey"==c&&(n(c,g,f),g=p);"catalogId"==c&&(n(c,h,f),h=p);"logEvent"==c&&(n(c,k,f),k=p);"debug"==c&&(n(c,q,f),q=p)}l(g)&&l(h)&&"object"==typeof k&&(e.width=1,e.height=1,e.src="https://recommendationengine.googleapis.com/v1eap/product/catalogs/"+
encodeURIComponent(h)+"/events:collect?key="+encodeURIComponent(g)+"&url="+encodeURIComponent(r.substring(0,1500))+"&user_event="+encodeURIComponent(JSON.stringify(k))+"&ets="+t);if(q)for(l(g)||d("apiKey missing"),l(h)||d("catalogId missing"),"object"!=typeof k&&d("logEvent object missing"),a=0;a<f.length;++a)d(f[a])}};
recommendationEngine.logEvent=function(b){var e=function(){};"object"==typeof window&&"object"==typeof window.console&&"function"==typeof window.console.log&&(e=window.console.log);var d="";"object"==typeof window&&"object"==typeof window.location&&"string"==typeof window.location.href&&(d=window.location.href);recommendationEngine.collect(b,document.createElement("img"),e,d,Date.now())};"undefined"!=typeof document&&recommendationEngine.logEvent(_gre);
